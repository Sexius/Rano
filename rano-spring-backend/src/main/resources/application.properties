# ==========================================
# 1. 서버 기본 설정
# ==========================================
server.port=8080
spring.application.name=rag-spring-backend

# ==========================================
# 2. MariaDB 연결 설정
# ==========================================
# 환경변수 SPRING_DATASOURCE_URL이 있으면 그걸 쓰고, 없으면 로컬 주소 사용
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mariadb://localhost:3306/rano?useUnicode=true&characterEncoding=utf8}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:1234}
# spring.datasource.driver-class-name=org.mariadb.jdbc.Driver

# Dialect를 환경변수로 설정 가능 (Render는 PostgreSQL 사용)
spring.jpa.database-platform=${SPRING_JPA_DIALECT:org.hibernate.dialect.PostgreSQLDialect}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ==========================================
# 4. 기타 설정 (CORS 등)
# ==========================================
# 배포된 프론트엔드 URL을 환경변수로 받음 (없으면 로컬호스트)
spring.web.cors.allowed-origins=${SPRING_WEB_CORS_ALLOWED_ORIGINS:http://localhost:3000}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# Divine Pride API
divine.pride.api.key=${DIVINE_PRIDE_API_KEY:403eb0a63c53841742499eeba421b8b6}
divine.pride.api.url=https://www.divine-pride.net/api/database